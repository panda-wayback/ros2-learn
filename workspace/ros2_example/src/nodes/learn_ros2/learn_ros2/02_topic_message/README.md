# ROS 2 è¯é¢˜å’Œæ¶ˆæ¯ç¤ºä¾‹

è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†ROS 2ä¸­æœ€åŸºæœ¬çš„é€šä¿¡æœºåˆ¶ï¼š**è¯é¢˜ï¼ˆTopicï¼‰**å’Œ**æ¶ˆæ¯ï¼ˆMessageï¼‰**ã€‚

## ğŸ“‹ æ¦‚å¿µè¯´æ˜

### è¯é¢˜ï¼ˆTopicï¼‰
- è¯é¢˜æ˜¯ROS 2ä¸­èŠ‚ç‚¹é—´é€šä¿¡çš„ä¸»è¦æ–¹å¼
- é‡‡ç”¨**å‘å¸ƒ-è®¢é˜…ï¼ˆPublish-Subscribeï¼‰**æ¨¡å¼
- ä¸€ä¸ªè¯é¢˜å¯ä»¥æœ‰å¤šä¸ªå‘å¸ƒè€…å’Œå¤šä¸ªè®¢é˜…è€…
- è¯é¢˜åç§°é€šå¸¸ä»¥`/`å¼€å¤´ï¼Œå¦‚`/chatter`

### æ¶ˆæ¯ï¼ˆMessageï¼‰
- æ¶ˆæ¯æ˜¯èŠ‚ç‚¹é—´ä¼ é€’çš„æ•°æ®æ ¼å¼
- æœ‰é¢„å®šä¹‰çš„æ•°æ®ç»“æ„
- å¸¸ç”¨æ¶ˆæ¯ç±»å‹ï¼š
  - `std_msgs/String`: å­—ç¬¦ä¸²æ¶ˆæ¯
  - `std_msgs/Int32`: æ•´æ•°æ¶ˆæ¯
  - `geometry_msgs/Twist`: é€Ÿåº¦æ¶ˆæ¯
  - `sensor_msgs/Image`: å›¾åƒæ¶ˆæ¯

## ğŸš€ è¿è¡Œç¤ºä¾‹

### æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨æ–‡ä»¶ï¼ˆæ¨èï¼‰

```bash
# åœ¨workspaceæ ¹ç›®å½•ä¸‹
source install/setup.bash
ros2 launch learn_ros2 topic_demo.launch.py
```

### æ–¹æ³•2ï¼šåˆ†åˆ«å¯åŠ¨èŠ‚ç‚¹

**ç»ˆç«¯1 - å¯åŠ¨å‘å¸ƒè€…ï¼š**
```bash
source install/setup.bash
ros2 run learn_ros2 publisher_node
```

**ç»ˆç«¯2 - å¯åŠ¨è®¢é˜…è€…ï¼š**
```bash
source install/setup.bash
ros2 run learn_ros2 subscriber_node
```

## ğŸ” è§‚å¯Ÿå’Œè°ƒè¯•

### æŸ¥çœ‹è¯é¢˜åˆ—è¡¨
```bash
ros2 topic list
```

### æŸ¥çœ‹è¯é¢˜ä¿¡æ¯
```bash
ros2 topic info /chatter
```

### æ‰‹åŠ¨å‘å¸ƒæ¶ˆæ¯
```bash
ros2 topic pub /chatter std_msgs/msg/String "data: 'Hello from command line!'"
```

### ç›‘å¬è¯é¢˜æ¶ˆæ¯
```bash
ros2 topic echo /chatter
```

### æŸ¥çœ‹è¯é¢˜é¢‘ç‡
```bash
ros2 topic hz /chatter
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
02_topic_message/
â”œâ”€â”€ __init__.py              # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”œâ”€â”€ publisher_node.py        # å‘å¸ƒè€…èŠ‚ç‚¹
â”œâ”€â”€ subscriber_node.py       # è®¢é˜…è€…èŠ‚ç‚¹
â”œâ”€â”€ topic_demo.launch.py     # å¯åŠ¨æ–‡ä»¶
â””â”€â”€ README.md               # è¯´æ˜æ–‡æ¡£
```

## ğŸ’¡ ä»£ç è¦ç‚¹

### å‘å¸ƒè€…èŠ‚ç‚¹å…³é”®ä»£ç 
```python
# åˆ›å»ºå‘å¸ƒè€…
self.publisher = self.create_publisher(String, 'chatter', 10)

# å‘å¸ƒæ¶ˆæ¯
self.publisher.publish(msg)
```

### è®¢é˜…è€…èŠ‚ç‚¹å…³é”®ä»£ç 
```python
# åˆ›å»ºè®¢é˜…è€…
self.subscription = self.create_subscription(
    String, 'chatter', self.listener_callback, 10
)

# æ¶ˆæ¯å›è°ƒå‡½æ•°
def listener_callback(self, msg):
    # å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯
    pass
```

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡è¿™ä¸ªç¤ºä¾‹ï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

1. âœ… ç†è§£è¯é¢˜å’Œæ¶ˆæ¯çš„åŸºæœ¬æ¦‚å¿µ
2. âœ… åˆ›å»ºå‘å¸ƒè€…èŠ‚ç‚¹å‘å¸ƒæ¶ˆæ¯
3. âœ… åˆ›å»ºè®¢é˜…è€…èŠ‚ç‚¹æ¥æ”¶æ¶ˆæ¯
4. âœ… ä½¿ç”¨å¯åŠ¨æ–‡ä»¶åŒæ—¶å¯åŠ¨å¤šä¸ªèŠ‚ç‚¹
5. âœ… ä½¿ç”¨ROS 2å‘½ä»¤è¡Œå·¥å…·è°ƒè¯•å’Œè§‚å¯Ÿè¯é¢˜

## ğŸ”§ æ‰©å±•ç»ƒä¹ 

1. **ä¿®æ”¹æ¶ˆæ¯é¢‘ç‡**ï¼šå°†å‘å¸ƒé¢‘ç‡ä»1ç§’æ”¹ä¸º0.5ç§’
2. **æ·»åŠ æ–°æ¶ˆæ¯ç±»å‹**ï¼šä½¿ç”¨`std_msgs/Int32`å‘å¸ƒæ•°å­—æ¶ˆæ¯
3. **å¤šä¸ªè®¢é˜…è€…**ï¼šå¯åŠ¨å¤šä¸ªè®¢é˜…è€…èŠ‚ç‚¹ï¼Œè§‚å¯Ÿæ¶ˆæ¯åˆ†å‘
4. **è‡ªå®šä¹‰å¤„ç†**ï¼šåœ¨è®¢é˜…è€…ä¸­æ·»åŠ æ¶ˆæ¯å†…å®¹åˆ†æé€»è¾‘

## ğŸš¨ å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆçœ‹ä¸åˆ°æ¶ˆæ¯ï¼Ÿ**
A: ç¡®ä¿ä¸¤ä¸ªèŠ‚ç‚¹éƒ½å·²å¯åŠ¨ï¼Œå¹¶ä¸”è¯é¢˜åç§°ä¸€è‡´ã€‚

**Q: å¦‚ä½•åœæ­¢ç¨‹åºï¼Ÿ**
A: åœ¨ç»ˆç«¯ä¸­æŒ‰ `Ctrl+C` åœæ­¢èŠ‚ç‚¹ã€‚

**Q: æ¶ˆæ¯ä¸¢å¤±æ€ä¹ˆåŠï¼Ÿ**
A: å¢åŠ é˜Ÿåˆ—å¤§å°ï¼ˆå¦‚ä»10æ”¹ä¸º100ï¼‰ï¼Œæˆ–æé«˜å¤„ç†é€Ÿåº¦ã€‚ 