# 4.进行单点与路点导航

简单了解下地图结构，我们可以使用 Nav2 Goal 按钮给定目标点，让机器人自主进行导航。点击该工具，选择一个目标位置和朝向，就可以看到规划出来的全局路径，并且机器人已经开始移动了。

![image.png](4.%E8%BF%9B%E8%A1%8C%E5%8D%95%E7%82%B9%E4%B8%8E%E8%B7%AF%E7%82%B9%E5%AF%BC%E8%88%AA/imgs/1685119894090-3ec18978-bd0c-457f-88fc-6e965583434e.png)



如果在机器人移动的过程中，放大图像，你将看到如下图所示的一条很短的蓝色线条，这个线条就是局部路径规划的结果。

![image.png](4.%E8%BF%9B%E8%A1%8C%E5%8D%95%E7%82%B9%E4%B8%8E%E8%B7%AF%E7%82%B9%E5%AF%BC%E8%88%AA/imgs/1685120076478-19254304-6045-46e0-a2a4-3bdd9d3d0a76.png)



接着我们来测试指定路点的导航，路点就是指路过的点，比如你要从家前往学校可以有多个路线，但你希望可以经过某家店买些东西，就可以指定要经过这家店。使用路点导航，Navigation 2 就会在规划路径按照你指定的顺序进行导航。

![image.png](4.%E8%BF%9B%E8%A1%8C%E5%8D%95%E7%82%B9%E4%B8%8E%E8%B7%AF%E7%82%B9%E5%AF%BC%E8%88%AA/imgs/1685120238810-2d9f1808-d245-4599-aa28-abe25064ba48.png)



通过这个插件可以取消导航任务，也可以设置多个目标点的导航，点击最下面的 Waypoint/Nav Through Poses Mode ，接着使用 Nav2 Goal 依次设置多个路点，比如下图中设置了五个路点，让机器人绕过咖啡桌再到左前方的目标点。

![image.png](4.%E8%BF%9B%E8%A1%8C%E5%8D%95%E7%82%B9%E4%B8%8E%E8%B7%AF%E7%82%B9%E5%AF%BC%E8%88%AA/imgs/1685120784000-2bc70f7b-36e2-432d-940b-5c1729675b1b.png)



设置完成后，就可以开启路点导航了。如下图所示在 RViz 的左下角的窗口上有三个按钮，点击最下面一个 Start Waypoint Follwing 就可以启动路点导航。

![image.png](4.%E8%BF%9B%E8%A1%8C%E5%8D%95%E7%82%B9%E4%B8%8E%E8%B7%AF%E7%82%B9%E5%AF%BC%E8%88%AA/imgs/1685120939992-e7aca8d6-7024-4e96-8a7b-ee3dbd2c2f8f.png)



接着就可以看到机器人依次走向每一个目标点了，行走路径如下图所示。





![image.png](4.%E8%BF%9B%E8%A1%8C%E5%8D%95%E7%82%B9%E4%B8%8E%E8%B7%AF%E7%82%B9%E5%AF%BC%E8%88%AA/imgs/1685121019502-f7e47c7b-911c-4eb8-8e64-6da397a2b34a.png)







